(this.webpackJsonppages=this.webpackJsonppages||[]).push([[0],{43:function(e,t,a){e.exports=a(76)},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),l=a.n(s),o=a(13),c=a(14),u=a(4),i=a(2),p=a.n(i),m=a(9),d=a.n(m),f=a(39),E=a.n(f),h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=E.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return n({type:"REMOVE_ALERT",payload:r})}),a)}},g=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},y=function(){return function(e){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return localStorage.token&&g(localStorage.token),a.prev=1,a.next=4,p.a.awrap(d.a.get("/api/auth"));case 4:t=a.sent,e({type:"USER_LOADED",payload:t.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e({type:"AUTH_ERROR"});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}},b=Object(u.b)((function(e){return{auth:e.auth}}),{logout:function(){return function(e){e({type:"LOGOUT"})}}})((function(e){var t=e.auth,a=t.isAuthenticated,s=t.loading,l=e.logout,c=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement("a",{onClick:l,href:"#!"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",r.a.createElement("span",{className:"hide-sm"},"Logout")))),u=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/about"},"About")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Admin Login")));return r.a.createElement("nav",{className:"navbar bg-dark"},r.a.createElement("h1",null,r.a.createElement(o.b,{to:"/"},r.a.createElement("i",{className:"fas fa-signature"})," Thankful Wall")),!s&&r.a.createElement(n.Fragment,null,a?c:u," "))})),v=a(16),O=a(3),k=a(20),w=Object(u.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e,t){return function(a){var n,r,s,l;return p.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e,password:t}),o.prev=2,o.next=5,p.a.awrap(d.a.post("/api/auth",r,n));case 5:s=o.sent,a({type:"LOGIN_SUCCESS",payload:s.data}),a(y()),o.next=15;break;case 10:o.prev=10,o.t0=o.catch(2),(l=o.t0.response.data.errors)&&l.forEach((function(e){return a(h(e.msg,"danger"))})),a({type:"LOGIN_FAIL"});case 15:case"end":return o.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.login,a=e.isAuthenticated,s=Object(n.useState)({email:"",password:""}),l=Object(k.a)(s,2),o=l[0],u=l[1],i=o.email,m=o.password,d=function(e){return u(Object(O.a)({},o,Object(v.a)({},e.target.name,e.target.value)))};return a?r.a.createElement(c.a,{to:"/"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Sign In"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"})," Sign into Your Account"),r.a.createElement("form",{className:"form",onSubmit:function(e){return function(e){return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.preventDefault(),t(i,m);case 2:case"end":return a.stop()}}))}(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"email",placeholder:"Email Address",name:"email",value:i,onChange:function(e){return d(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",minLength:"6",value:m,onChange:function(e){return d(e)}})),r.a.createElement("input",{type:"submit",className:"btn btn-primary",value:"Login"})))})),S=Object(u.b)((function(e){return{alerts:e.alert}}))((function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)}))})),x=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",null,"Loading..."))},T=a(41),j=a.n(T),A=function(e){var t=e.addLike,a=e.removeLike,s=e.deletePost,l=e.auth,o=e.post,c=o._id,u=o.text,i=o.name,p=o.likes,m=o.date,d=e.showActions;return r.a.createElement("div",{class:"post bg-white p-1 my-1"},r.a.createElement("div",null,r.a.createElement("p",null,u),r.a.createElement("p",{class:"my-1 post-date"},i," | ","Posted on ",r.a.createElement(j.a,{format:"YYYY/MM/DD"},m)),d&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:function(e){return t(c)},type:"button",class:"btn btn-light"},r.a.createElement("i",{class:"fas fa-thumbs-up"})," ",p>0&&r.a.createElement("span",null,p)),r.a.createElement("button",{onClick:function(e){return a(c)},type:"button",class:"btn btn-light"},r.a.createElement("i",{class:"fas fa-thumbs-down"})),!l.loading&&l.isAuthenticated&&r.a.createElement("button",{onClick:function(e){return s(c)},type:"button",class:"btn btn-danger"},r.a.createElement("i",{class:"fas fa-times"})))))};A.defaultProps={showActions:!0};var N=Object(u.b)((function(e){return{auth:e.auth}}),{addLike:function(e){return function(t){var a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(d.a.put("/api/posts/like/".concat(e)));case 3:a=n.sent,t({type:"UPDATE_LIKES",payload:{postId:e,likes:a.data}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:"POST_ERROR",payload:{msg:n.t0.response.data.msg,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},removeLike:function(e){return function(t){var a;return p.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.a.awrap(d.a.put("/api/posts/unlike/".concat(e)));case 3:a=n.sent,t({type:"UPDATE_LIKES",payload:{postId:e,likes:a.data}}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t({type:"POST_ERROR",payload:{msg:n.t0.response.data.msg,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),null,null,[[0,7]])}},deletePost:function(e){return function(t){return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.awrap(d.a.delete("/api/posts/".concat(e)));case 3:t({type:"DELETE_POST",payload:e}),t(h("Post Removed","success")),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),t({type:"POST_ERROR",payload:{msg:a.t0.response.data.msg,status:a.t0.response.status}});case 10:case"end":return a.stop()}}),null,null,[[0,7]])}}})(A),R=Object(u.b)(null,{addPost:function(e,t){return function(a){var n,r,s;return p.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({text:e,name:t}),l.prev=2,l.next=5,p.a.awrap(d.a.post("/api/posts/",r,n));case 5:s=l.sent,a({type:"ADD_POST",payload:s.data}),a(h("Post Created","success")),l.next=14;break;case 10:l.prev=10,l.t0=l.catch(2),a({type:"POST_ERROR",payload:{msg:l.t0.response.data.errors,status:l.t0.response.status}}),401===l.t0.response.status&&a(h("Max posts reached. Please try again later.","danger"));case 14:case"end":return l.stop()}}),null,null,[[2,10]])}}})((function(e){var t=e.addPost,a=Object(n.useState)({text:"",name:""}),s=Object(k.a)(a,2),l=s[0],o=s[1],c=l.text,u=l.name;return r.a.createElement("div",{class:"post-form"},r.a.createElement("form",{class:"form my-1",onSubmit:function(e){e.preventDefault(),t(c,u),o({text:"",name:""})}},r.a.createElement("textarea",{name:"text",cols:"30",rows:"5",placeholder:"What are some things you are thankful for today?",value:c,onChange:function(e){return o(Object(O.a)({},l,Object(v.a)({},e.target.name,e.target.value)))},required:!0}),r.a.createElement("textarea",{name:"name",cols:"30",rows:"1",placeholder:"Optional Name",value:u,onChange:function(e){return o(Object(O.a)({},l,Object(v.a)({},e.target.name,e.target.value)))}}),r.a.createElement("input",{type:"submit",class:"btn btn-dark my-1",value:"Submit"})))})),_=Object(u.b)((function(e){return{wall:e.wall}}),{getPosts:function(){return function(e){var t;return p.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.awrap(d.a.get("/api/posts"));case 3:t=a.sent,e({type:"GET_POSTS",payload:t.data}),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e({type:"POST_ERROR",payload:{msg:a.t0.response.data.msg,status:a.t0.response.status}});case 10:case"end":return a.stop()}}),null,null,[[0,7]])}}})((function(e){var t=e.getPosts,a=e.wall,s=a.posts,l=a.loading;return Object(n.useEffect)((function(){t()}),[t]),l?r.a.createElement(x,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"Posts"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-hand-peace"})," Welcome!"),r.a.createElement(R,null),r.a.createElement("div",{className:"posts"},s.map((function(e){return r.a.createElement(N,{key:e._id,post:e})}))))})),L=function(e){return r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-primary"},"About"),r.a.createElement("p",{className:"lead"},"The purpose of this wall is to provide a space for an"," ",r.a.createElement("span",{className:"text-bold"},"open gratitude journal")," where people are able to read or share about the things in life (big or small) they are thankful for. It is a journal that seeks to instill a habit of practicing gratitude daily and to encourage others with reflections from the everyday lives of people around them."),r.a.createElement("p",{className:"lead"},"So feel free to contribute and write a post! There are no strict rules or guidelines, only that the content"," ",r.a.createElement("span",{className:"text-bold"},"remain appropriate")," and"," ",r.a.createElement("span",{className:"text-bold"},"refrain from sharing private information"),". To prevent spamming, there is limit of 3 posts per 24 hour period. As you are commuting to work or finishing up ping pong practice or preparing to go to bed at night, take some time to think...what are some things you are thankful for today?"),r.a.createElement("div",{className:"quote"},r.a.createElement("p",null,"Rejoice always,")," ",r.a.createElement("p",null," pray continually,")," ",r.a.createElement("p",null," give thanks in all circumstances;"),r.a.createElement("p",null,"for this is God\u2019s will for you in Christ Jesus."),r.a.createElement("p",null," \u2015 1 Thessalonians 5:16-18")),r.a.createElement("div",{className:"quote"},r.a.createElement("p",null,"\u201cYesterday is history,"),r.a.createElement("p",null,"tomorrow is a mystery,"),r.a.createElement("p",null,"and today is a gift..."),r.a.createElement("p",null,"that's why they call it present\u201d "),r.a.createElement("p",null," \u2015 Master Oogway")),r.a.createElement("p",{className:"my-1"},"For any questions or concerns, please contact lims4011@gmail.com for information."))},P=a(15),D=a(42),C=a(21),I=[],U={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},F={posts:[],loading:!0,error:{}},G=Object(P.c)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(C.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==n}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return Object(O.a)({},e,{isAuthenticated:!0,loading:!1,user:n});case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),Object(O.a)({},e,{},n,{isAuthenticated:!0,loading:!1});case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),Object(O.a)({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},wall:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Object(O.a)({},e,{posts:n,loading:!1});case"ADD_POST":return Object(O.a)({},e,{posts:[n].concat(Object(C.a)(e.posts)),loading:!1});case"DELETE_POST":return Object(O.a)({},e,{posts:e.posts.filter((function(e){return e._id!==n})),loading:!1});case"POST_ERROR":return Object(O.a)({},e,{error:n,loading:!1});case"UPDATE_LIKES":return Object(O.a)({},e,{posts:e.posts.map((function(e){return e._id===n.postId?Object(O.a)({},e,{likes:n.likes}):e})),loading:!1});default:return e}}}),M=[D.a],Y=Object(P.d)(G,{},P.a.apply(void 0,M));a(75);localStorage.token&&g(localStorage.token);var q=function(){return Object(n.useEffect)((function(){Y.dispatch(y())}),[]),r.a.createElement(u.a,{store:Y},r.a.createElement(o.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(b,null),r.a.createElement("section",{className:"container"},r.a.createElement(S,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:_}),r.a.createElement(c.b,{exact:!0,path:"/login",component:w}),r.a.createElement(c.b,{exact:!0,path:"/about",component:L}))))))};l.a.render(r.a.createElement(q,null),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.26e5227d.chunk.js.map